{# templates/registration/password_reset_confirm.html #}
{% extends "base.html" %}
{% block title %}新しいパスワード設定{% endblock %}

{% block content %}
<div class="min-h-screen flex items-center justify-center ">
  <div class="bg-white w-full max-w-md mx-4 sm:mx-0 rounded-lg shadow-md p-6 sm:p-8">

    <h1 class="text-2xl font-semibold text-center mb-6">新しいパスワードを設定</h1>

    {% if validlink %}
      <form method="post" novalidate>
        {% csrf_token %}

        <label for="id_new_password1" class="block text-gray-700 mb-1">新しいパスワード</label>
        <input type="password" name="new_password1" id="id_new_password1"
               class="w-full px-3 py-2 border border-gray-300 rounded
                      focus:outline-none focus:ring-2 focus:ring-blue-400"
               autocomplete="new-password" required>
        {% if form.new_password1.errors %}
          <p class="text-red-600 text-sm mt-1">{{ form.new_password1.errors.0 }}</p>
        {% endif %}

        <div class="mt-4">
          <label for="id_new_password2" class="block text-gray-700 mb-1">新しいパスワード（確認）</label>
          <input type="password" name="new_password2" id="id_new_password2"
                 class="w-full px-3 py-2 border border-gray-300 rounded
                        focus:outline-none focus:ring-2 focus:ring-blue-400"
                 autocomplete="new-password" required>
          {% if form.new_password2.errors %}
            <p class="text-red-600 text-sm mt-1">{{ form.new_password2.errors.0 }}</p>
          {% endif %}
        </div>

        <button type="submit"
                class="w-full mt-6 bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 rounded transition-colors">
          パスワードを変更
        </button>
      </form>
    {% else %}
      <p class="text-red-600 text-center">リンクが無効か、期限が切れています。</p>
    {% endif %}

  </div>
</div>
{% endblock %}
